import{a as v,r as a,j as e}from"./index-CjzFIWvj.js";const Z=[v("photos/euro/木馬粉裙.jpg"),v("photos/euro/白紗吊燈綠牆.jpg"),v("photos/euro/白紗沙發.jpg"),v("photos/euro/白紗棚拍.jpg")],P=[v("photos/tang/大成殿長綾.jpg"),v("photos/tang/橋上紅裙.jpg"),v("photos/tang/室內中式禮服.jpg")],ee=({className:c="h-5 w-5"})=>e.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),te=({className:c="h-6 w-6"})=>e.jsx("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),se=({className:c="h-6 w-6"})=>e.jsx("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})});function ae({open:c,items:i=[],index:u=0,onClose:d,onPrev:x,onNext:m}){const k=a.useRef(null),_=a.useRef(null),[o,h]=a.useState({w:0,h:0}),[r,I]=a.useState(1),[f,N]=a.useState(0),[b,C]=a.useState(0),[L,Y]=a.useState(!1),X=a.useRef({dx:0,dy:0}),R=a.useRef({dist:0,scale:1,center:{x:0,y:0}}),y=a.useCallback((t,s,n)=>Math.max(s,Math.min(n,t)),[]),S=a.useCallback(()=>{var j;const t=(j=k.current)==null?void 0:j.getBoundingClientRect();if(!t||!o.w||!o.h)return{w:0,h:0};const s=o.w/o.h,n=t.width/t.height,l=t.width*.9,p=t.height*.9;if(n<s){const g=Math.min(t.width,l);return{w:g,h:g/s}}else{const g=Math.min(t.height,p);return{w:g*s,h:g}}},[o]),z=a.useCallback(t=>{var l;const s=(l=k.current)==null?void 0:l.getBoundingClientRect(),n=S();return!s||!n.w||!n.h?{maxX:0,maxY:0}:{maxX:Math.max(0,(n.w*t-s.width)/2),maxY:Math.max(0,(n.h*t-s.height)/2)}},[S]),w=a.useCallback((t,s,n)=>{const{maxX:l,maxY:p}=z(n);return{x:y(t,-l,l),y:y(s,-p,p)}},[z,y]),M=a.useCallback((t,s,n)=>{const l=k.current.getBoundingClientRect(),p=r,j=y(n,1,5),g=j/p,V=t-(l.left+l.width/2),q=s-(l.top+l.height/2);let J=f-V*(g-1),Q=b-q*(g-1);const B=w(J,Q,j);I(j),N(B.x),C(B.y)},[r,f,b,w,y]),W=a.useCallback(t=>{if(t.ctrlKey){t.preventDefault();const s=t.deltaY<0?1.12:1/1.12;M(t.clientX,t.clientY,r*s)}else if(r>1){t.preventDefault();const s=f-t.deltaX,n=b-t.deltaY,l=w(s,n,r);N(l.x),C(l.y)}},[r,f,b,M,w]),$=a.useCallback(t=>{t.stopPropagation(),M(t.clientX,t.clientY,r>1?1:2)},[r,M]),A=a.useCallback(t=>{r<=1||(t.preventDefault(),Y(!0),X.current={dx:t.clientX-f,dy:t.clientY-b})},[r,f,b]),F=a.useCallback(t=>{if(!L)return;const s=t.clientX-X.current.dx,n=t.clientY-X.current.dy,l=w(s,n,r);N(l.x),C(l.y)},[L,r,w]),T=a.useCallback(()=>Y(!1),[]),E=a.useCallback((t,s)=>Math.hypot(t.clientX-s.clientX,t.clientY-s.clientY),[]),D=a.useCallback((t,s)=>({x:(t.clientX+s.clientX)/2,y:(t.clientY+s.clientY)/2}),[]),H=a.useCallback(t=>{if(t.touches.length===1)_.current=t.touches[0].clientX;else if(t.touches.length===2){t.preventDefault();const[s,n]=t.touches;R.current={dist:E(s,n),scale:r,center:D(s,n)}}},[r,E,D]),G=a.useCallback(t=>{if(t.touches.length===2){t.preventDefault();const[s,n]=t.touches,l=E(s,n),{dist:p,scale:j,center:g}=R.current;M(g.x,g.y,y(l/p*j,1,5))}else if(t.touches.length===1&&r>1){t.preventDefault();const s=t.touches[0];if(!L)Y(!0),X.current={dx:s.clientX-f,dy:s.clientY-b};else{const n=s.clientX-X.current.dx,l=s.clientY-X.current.dy,p=w(n,l,r);N(p.x),C(p.y)}}},[r,L,f,b,E,M,y,w]),K=a.useCallback(t=>{var s;if(Y(!1),((s=t.changedTouches)==null?void 0:s.length)===1&&r===1){const n=t.changedTouches[0].clientX,l=n-(_.current??n);l>40?x==null||x():l<-40&&(m==null||m())}},[r,x,m]),O=a.useCallback(t=>{t.target===t.currentTarget&&(d==null||d())},[d]),U=a.useCallback(t=>{t.stopPropagation()},[]);return a.useEffect(()=>{I(1),N(0),C(0)},[c,u]),a.useEffect(()=>{if(!c)return;const t=document.body.style.overflow;document.body.style.overflow="hidden";const s=n=>{n.key==="Escape"&&(d==null||d()),n.key==="ArrowLeft"&&(x==null||x()),n.key==="ArrowRight"&&(m==null||m())};return window.addEventListener("keydown",s),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",s)}},[c,d,x,m]),a.useEffect(()=>{if(!c)return;(()=>{[u,(u-1+i.length)%i.length,(u+1)%i.length].forEach(n=>{const l=new Image;l.src=i[n]})})()},[c,u,i]),!c||!i.length?null:e.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-md overflow-y-auto overscroll-contain",onClick:O,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"min-h-[100svh] flex items-center justify-center p-3 sm:p-4 md:p-8",children:e.jsxs("div",{ref:k,className:"relative w-full max-w-5xl lg:max-w-6xl xl:max-w-7xl h-full max-h-[92svh] flex items-center justify-center touch-none select-none rounded-[2rem] border border-white/15 bg-black/30 shadow-[0_30px_120px_-40px_rgba(0,0,0,0.65)] overflow-hidden backdrop-blur-xl",onClick:U,onWheel:W,onDoubleClick:$,onMouseDown:A,onMouseMove:F,onMouseUp:T,onMouseLeave:T,onTouchStart:H,onTouchMove:G,onTouchEnd:K,style:{touchAction:"none"},children:[e.jsx("img",{src:i[u],alt:`照片 ${u+1} / ${i.length}`,className:"block max-w-full max-h-full object-contain",draggable:!1,onLoad:t=>{const s=t.currentTarget;h({w:s.naturalWidth,h:s.naturalHeight})},style:r===1?{transition:"transform 150ms ease-out",maxWidth:"94vw",maxHeight:"85svh"}:{transform:`translate(${f}px, ${b}px) scale(${r})`,transformOrigin:"50% 50%",transition:L?"none":"transform 150ms ease-out",cursor:L?"grabbing":"grab"}}),e.jsx("button",{onClick:t=>{t.stopPropagation(),d==null||d()},className:"absolute top-3 sm:top-4 right-3 sm:right-4 rounded-full bg-black/70 hover:bg-black/90 text-white shadow-lg p-2.5 sm:p-3 z-10 transition-all duration-200 hover:scale-105 backdrop-blur-sm touch-manipulation","aria-label":"關閉",children:e.jsx(ee,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),x==null||x()},className:"flex items-center justify-center absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 rounded-full bg-black/70 hover:bg-black/90 text-white shadow-lg p-3 sm:p-4 active:scale-95 z-10 transition-all duration-200 hover:scale-105 backdrop-blur-sm touch-manipulation","aria-label":"上一張",children:e.jsx(te,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),m==null||m()},className:"flex items-center justify-center absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 rounded-full bg-black/70 hover:bg-black/90 text-white shadow-lg p-3 sm:p-4 active:scale-95 z-10 transition-all duration-200 hover:scale-105 backdrop-blur-sm touch-manipulation","aria-label":"下一張",children:e.jsx(se,{className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),r>1&&e.jsxs("div",{className:"absolute right-0 bottom-0 m-3 sm:m-4 flex items-center gap-2 text-sm z-10",children:[e.jsxs("span",{className:"rounded bg-black/70 text-white px-3 py-1.5 backdrop-blur-sm",children:[Math.round(r*100),"%"]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),I(1),N(0),C(0)},className:"rounded bg-white/90 hover:bg-white text-stone-700 px-3 py-1.5 shadow transition-colors duration-200 touch-manipulation",children:"重置"})]}),i.length>1&&e.jsxs("div",{className:"absolute top-3 sm:top-4 left-3 sm:left-4 rounded-full bg-black/70 text-white px-3 py-1.5 text-sm sm:text-base z-10 backdrop-blur-sm",children:[u+1," / ",i.length]})]})}),e.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-full max-w-md px-4 pointer-events-none",children:e.jsx("div",{className:"text-white/90 text-xs sm:text-sm px-4 py-2 rounded-full bg-black/50 backdrop-blur-sm text-center border border-white/10",children:r===1?e.jsx(e.Fragment,{children:"點擊背景關閉 • 左右按鈕切換照片"}):e.jsx(e.Fragment,{children:"拖曳移動 • 雙擊縮放"})})})]})}function ne(){const c=a.useMemo(()=>[...P,...Z],[]),[i,u]=a.useState(null),[d,x]=a.useState(new Set);a.useEffect(()=>()=>{var o,h;((h=(o=document==null?void 0:document.body)==null?void 0:o.style)==null?void 0:h.overflow)==="hidden"&&(document.body.style.overflow="")},[]);const m=a.useCallback(o=>{o.target.style.display="none";const h=o.target.nextSibling;h&&h.style&&(h.style.display="flex")},[]),k=a.useCallback(o=>{x(h=>new Set(h).add(o))},[]),_=a.useCallback(()=>{u(0)},[]);return e.jsxs("div",{className:"space-y-8 md:space-y-12",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto space-y-3",children:[e.jsx("p",{className:"text-rose-400/90 font-script text-3xl md:text-4xl tracking-wider",children:"綻放的時光"}),e.jsx("p",{className:"font-sans text-base md:text-lg text-stone-600 leading-relaxed",children:"光影中收藏的笑顏與擁抱，成為我們最真摯的婚禮記憶"}),e.jsxs("div",{className:"mt-6 md:mt-10 flex flex-col items-center",children:[e.jsxs("button",{onClick:_,className:"px-10 py-4 bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded-full font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 active:translate-y-0 flex items-center justify-center gap-3 text-lg md:text-xl",children:[e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"進入放映模式"]}),e.jsx("p",{className:"font-sans text-xs sm:text-sm md:text-base text-stone-500 mt-3 whitespace-nowrap",children:"點擊上方按鈕以全螢幕幻燈片模式瀏覽所有照片，享受沉浸式的觀看體驗"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-5",children:c.map((o,h)=>e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-rose-100/70 bg-white/70 shadow-[0_18px_45px_-20px_rgba(244,63,94,0.4)] transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_25px_55px_-15px_rgba(244,63,94,0.45)]",children:[e.jsxs("div",{className:"w-full aspect-[4/3] overflow-hidden bg-stone-50 flex items-center justify-center",children:[!d.has(o)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-stone-100",children:e.jsx("div",{className:"w-8 h-8 border-2 border-rose-200 border-t-rose-500 rounded-full animate-spin"})}),e.jsx("img",{src:o,alt:`婚禮照片 ${h+1}`,className:`block w-full h-full object-cover transition-all duration-500 group-hover:scale-105 ${d.has(o)?"opacity-100":"opacity-0"}`,loading:"lazy",decoding:"async",onError:m,onLoad:()=>k(o)}),e.jsx("div",{className:"hidden w-full h-full items-center justify-center bg-stone-100 text-stone-400",style:{display:"none"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl mb-1",children:"📷"}),e.jsx("div",{className:"text-xs",children:"載入失敗"})]})})]}),e.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 transition-all duration-300 group-hover:opacity-100 pointer-events-none","aria-hidden":"true",children:e.jsx("span",{className:"absolute inset-0 bg-gradient-to-br from-rose-50/30 via-transparent to-rose-100/25 mix-blend-overlay"})}),e.jsx("div",{className:"absolute top-1.5 right-1.5 bg-rose-500/80 text-white text-xs px-1.5 py-0.5 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:h+1})]},`${o}-${h}`))}),e.jsx("div",{className:"text-center pt-6 border-t border-rose-100",children:e.jsxs("p",{className:"font-sans text-stone-500 text-sm md:text-base",children:["共 ",c.length," 張精選照片，點擊上方「進入放映模式」按鈕即可瀏覽完整相簿"]})}),e.jsx(ae,{open:i!==null,items:c,index:i??0,onClose:()=>u(null),onPrev:()=>u(o=>(o-1+c.length)%c.length),onNext:()=>u(o=>(o+1)%c.length)})]})}function re(){return e.jsxs("main",{className:"min-h-screen bg-gradient-to-b from-rose-50 to-white",children:[e.jsx("div",{className:"bg-white border-b border-stone-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16",children:e.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-normal text-stone-800 mb-4",children:"婚禮回憶"}),e.jsx("p",{className:"font-sans text-lg md:text-xl text-stone-600 leading-relaxed",children:"每一個瞬間都是永恆，每一張照片都是故事"})]})})}),e.jsx("section",{className:"py-12 md:py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-rose-100/60 bg-white/80 shadow-[0_25px_70px_-25px_rgba(244,114,182,0.35)]",children:[e.jsx("div",{className:"absolute -top-16 right-6 h-48 w-48 rounded-full bg-rose-100/50 blur-3xl","aria-hidden":"true"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-40 bg-gradient-to-t from-rose-50/70 to-transparent","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 px-6 py-10 md:px-10 md:py-14",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-rose-100/70 text-rose-600 font-sans text-sm tracking-wide",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400","aria-hidden":"true"}),"照片畫廊",e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400","aria-hidden":"true"})]}),e.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-serif text-stone-800",children:"與我們一同回味最美的瞬間"})]}),e.jsx(ne,{})]})]})})}),e.jsx("div",{className:"bg-stone-50 border-t border-stone-200 mt-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center text-stone-500 text-sm font-sans space-y-2",children:[e.jsx("p",{children:"感謝所有參與我們重要日子的親朋好友"}),e.jsx("p",{children:"這些珍貴的時刻將永遠留在我們心中"})]})})})]})}export{re as default};
